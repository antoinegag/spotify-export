import{S as K,i as Z,s as Q,k as w,l as E,m as I,h as v,n as V,p as S,b as D,B as k,I as O,J as M,q as L,a as C,r as P,c as N,G as m,t as B,d as X,f as U,H as me,g as Y,w as x,x as $,y as ee,z as te,K as W,e as T,L as H,u as q,M as le}from"../../chunks/index-c35df85b.js";import{L as be,l as ye,a as ge,g as ke,b as we,c as Ee,d as Ie}from"../../chunks/spotify-api-551ccd95.js";const G=/[a-zA-Z]/,J=(i,e=0)=>[...Array(i).keys()].map(l=>l+e);function se(i,e,l){const t=i.slice();return t[7]=e[l],t}function ne(i){let e;return{c(){e=w("div"),this.h()},l(l){e=E(l,"DIV",{class:!0,style:!0}),I(e).forEach(v),this.h()},h(){V(e,"class","rect svelte-cihful"),S(e,"animation-delay",(i[7]-1)*(+i[6]/12)+i[5]),M(e,"pause-animation",i[4])},m(l,t){D(l,e,t)},p(l,t){t&16&&M(e,"pause-animation",l[4])},d(l){l&&v(e)}}}function De(i){let e,l=J(5,1),t=[];for(let s=0;s<l.length;s+=1)t[s]=ne(se(i,l,s));return{c(){e=w("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=E(s,"DIV",{class:!0,style:!0});var n=I(e);for(let a=0;a<t.length;a+=1)t[a].l(n);n.forEach(v),this.h()},h(){V(e,"class","wrapper svelte-cihful"),S(e,"--size",i[3]+i[1]),S(e,"--color",i[0]),S(e,"--duration",i[2])},m(s,n){D(s,e,n);for(let a=0;a<t.length;a+=1)t[a].m(e,null)},p(s,[n]){if(n&112){l=J(5,1);let a;for(a=0;a<l.length;a+=1){const u=se(s,l,a);t[a]?t[a].p(u,n):(t[a]=ne(u),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=l.length}n&10&&S(e,"--size",s[3]+s[1]),n&1&&S(e,"--color",s[0]),n&4&&S(e,"--duration",s[2])},i:k,o:k,d(s){s&&v(e),O(t,s)}}}function Ve(i,e,l){var d;let{color:t="#FF3E00"}=e,{unit:s="px"}=e,{duration:n="1.2s"}=e,{size:a="60"}=e,{pause:u=!1}=e,_=((d=n.match(G))==null?void 0:d[0])??"s",f=n.replace(G,"");return i.$$set=o=>{"color"in o&&l(0,t=o.color),"unit"in o&&l(1,s=o.unit),"duration"in o&&l(2,n=o.duration),"size"in o&&l(3,a=o.size),"pause"in o&&l(4,u=o.pause)},[t,s,n,a,u,_,f]}class ze extends K{constructor(e){super(),Z(this,e,Ve,De,Q,{color:0,unit:1,duration:2,size:3,pause:4})}}function ie(i,e,l){const t=i.slice();return t[7]=e[l],t}function ae(i){let e;return{c(){e=w("div"),this.h()},l(l){e=E(l,"DIV",{class:!0,style:!0}),I(e).forEach(v),this.h()},h(){V(e,"class","bar svelte-1vzsw15"),S(e,"left",i[7]*(+i[3]/5+(+i[3]/15-+i[3]/100))+i[1]),S(e,"animation-delay",i[7]*(+i[6]/8.3)+i[5]),M(e,"pause-animation",i[4])},m(l,t){D(l,e,t)},p(l,t){t&10&&S(e,"left",l[7]*(+l[3]/5+(+l[3]/15-+l[3]/100))+l[1]),t&16&&M(e,"pause-animation",l[4])},d(l){l&&v(e)}}}function Le(i){let e,l=J(10,0),t=[];for(let s=0;s<l.length;s+=1)t[s]=ae(ie(i,l,s));return{c(){e=w("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=E(s,"DIV",{class:!0,style:!0});var n=I(e);for(let a=0;a<t.length;a+=1)t[a].l(n);n.forEach(v),this.h()},h(){V(e,"class","wrapper svelte-1vzsw15"),S(e,"--size",i[3]+i[1]),S(e,"--color",i[0]),S(e,"--duration",i[2])},m(s,n){D(s,e,n);for(let a=0;a<t.length;a+=1)t[a].m(e,null)},p(s,[n]){if(n&122){l=J(10,0);let a;for(a=0;a<l.length;a+=1){const u=ie(s,l,a);t[a]?t[a].p(u,n):(t[a]=ae(u),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=l.length}n&10&&S(e,"--size",s[3]+s[1]),n&1&&S(e,"--color",s[0]),n&4&&S(e,"--duration",s[2])},i:k,o:k,d(s){s&&v(e),O(t,s)}}}function Pe(i,e,l){var d;let{color:t="#FF3E00"}=e,{unit:s="px"}=e,{duration:n="1.25s"}=e,{size:a="60"}=e,{pause:u=!1}=e,_=((d=n.match(G))==null?void 0:d[0])??"s",f=n.replace(G,"");return i.$$set=o=>{"color"in o&&l(0,t=o.color),"unit"in o&&l(1,s=o.unit),"duration"in o&&l(2,n=o.duration),"size"in o&&l(3,a=o.size),"pause"in o&&l(4,u=o.pause)},[t,s,n,a,u,_,f]}class Se extends K{constructor(e){super(),Z(this,e,Pe,Le,Q,{color:0,unit:1,duration:2,size:3,pause:4})}}function oe(i,e,l){const t=i.slice();return t[10]=e[l],t}function re(i,e,l){const t=i.slice();return t[13]=e[l],t}function Ae(i){let e,l;return e=new be({props:{onClick:ye}}),{c(){x(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,s){ee(e,t,s),l=!0},p:k,i(t){l||(U(e.$$.fragment,t),l=!0)},o(t){B(e.$$.fragment,t),l=!1},d(t){te(e,t)}}}function Ce(i){let e,l,t,s,n,a,u={ctx:i,current:null,token:null,hasCatch:!0,pending:Be,then:Ue,catch:Ne,value:17,error:16,blocks:[,,,]};W(i[5],u);let _={ctx:i,current:null,token:null,hasCatch:!0,pending:qe,then:Te,catch:Re,value:9,error:16,blocks:[,,,]};W(l=i[2],_);let f={ctx:i,current:null,token:null,hasCatch:!0,pending:We,then:Fe,catch:je,value:9,error:16};return W(n=i[3],f),{c(){u.block.c(),e=C(),_.block.c(),t=C(),s=T(),f.block.c()},l(d){u.block.l(d),e=N(d),_.block.l(d),t=N(d),s=T(),f.block.l(d)},m(d,o){u.block.m(d,u.anchor=o),u.mount=()=>e.parentNode,u.anchor=e,D(d,e,o),_.block.m(d,_.anchor=o),_.mount=()=>t.parentNode,_.anchor=t,D(d,t,o),D(d,s,o),f.block.m(d,f.anchor=o),f.mount=()=>s.parentNode,f.anchor=s,a=!0},p(d,o){i=d,H(u,i,o),_.ctx=i,o&4&&l!==(l=i[2])&&W(l,_)||H(_,i,o),f.ctx=i,o&8&&n!==(n=i[3])&&W(n,f)||H(f,i,o)},i(d){a||(U(u.block),U(_.block),a=!0)},o(d){for(let o=0;o<3;o+=1){const p=u.blocks[o];B(p)}for(let o=0;o<3;o+=1){const p=_.blocks[o];B(p)}a=!1},d(d){u.block.d(d),u.token=null,u=null,d&&v(e),_.block.d(d),_.token=null,_=null,d&&v(t),d&&v(s),f.block.d(d),f.token=null,f=null}}}function Ne(i){let e,l=i[16].message+"",t;return{c(){e=w("p"),t=L(l),this.h()},l(s){e=E(s,"P",{style:!0});var n=I(e);t=P(n,l),n.forEach(v),this.h()},h(){S(e,"color","red")},m(s,n){D(s,e,n),m(e,t)},p:k,i:k,o:k,d(s){s&&v(e)}}}function Ue(i){let e,l,t=!i[0]&&ce(i);return{c(){t&&t.c(),e=T()},l(s){t&&t.l(s),e=T()},m(s,n){t&&t.m(s,n),D(s,e,n),l=!0},p(s,n){s[0]?t&&(Y(),B(t,1,1,()=>{t=null}),X()):t?(t.p(s,n),n&1&&U(t,1)):(t=ce(s),t.c(),U(t,1),t.m(e.parentNode,e))},i(s){l||(U(t),l=!0)},o(s){B(t),l=!1},d(s){t&&t.d(s),s&&v(e)}}}function ce(i){var d;let e,l,t,s,n,a=((d=i[17])==null?void 0:d.playlists.total)+"",u,_,f;return e=new ze({props:{color:"black",size:50}}),{c(){x(e.$$.fragment),l=C(),t=w("div"),s=L("Loading "),n=w("b"),u=L(a),_=L(" playlists"),this.h()},l(o){$(e.$$.fragment,o),l=N(o),t=E(o,"DIV",{class:!0});var p=I(t);s=P(p,"Loading "),n=E(p,"B",{});var r=I(n);u=P(r,a),r.forEach(v),_=P(p," playlists"),p.forEach(v),this.h()},h(){V(t,"class","pt-5 text-lg")},m(o,p){ee(e,o,p),D(o,l,p),D(o,t,p),m(t,s),m(t,n),m(n,u),m(t,_),f=!0},p:k,i(o){f||(U(e.$$.fragment,o),f=!0)},o(o){B(e.$$.fragment,o),f=!1},d(o){te(e,o),o&&v(l),o&&v(t)}}}function Be(i){return{c:k,l:k,m:k,p:k,i:k,o:k,d:k}}function Re(i){let e,l=i[16].message+"",t;return{c(){e=w("p"),t=L(l),this.h()},l(s){e=E(s,"P",{style:!0});var n=I(e);t=P(n,l),n.forEach(v),this.h()},h(){S(e,"color","red")},m(s,n){D(s,e,n),m(e,t)},p(s,n){n&4&&l!==(l=s[16].message+"")&&q(t,l)},i:k,o:k,d(s){s&&v(e)}}}function Te(i){let e,l,t=!i[1]&&i[0]&&_e(i);return{c(){t&&t.c(),e=T()},l(s){t&&t.l(s),e=T()},m(s,n){t&&t.m(s,n),D(s,e,n),l=!0},p(s,n){!s[1]&&s[0]?t?(t.p(s,n),n&3&&U(t,1)):(t=_e(s),t.c(),U(t,1),t.m(e.parentNode,e)):t&&(Y(),B(t,1,1,()=>{t=null}),X())},i(s){l||(U(t),l=!0)},o(s){B(t),l=!1},d(s){t&&t.d(s),s&&v(e)}}}function _e(i){let e,l,t,s,n,a=i[9].length+"",u,_,f,d,o,p;return e=new Se({props:{color:"black",size:50}}),{c(){x(e.$$.fragment),l=C(),t=w("div"),s=L("Loading tracks for "),n=w("b"),u=L(a),_=L(" playlists."),f=C(),d=w("div"),o=L("(filtered out your liked playlists)"),this.h()},l(r){$(e.$$.fragment,r),l=N(r),t=E(r,"DIV",{class:!0});var y=I(t);s=P(y,"Loading tracks for "),n=E(y,"B",{});var b=I(n);u=P(b,a),b.forEach(v),_=P(y," playlists."),y.forEach(v),f=N(r),d=E(r,"DIV",{});var c=I(d);o=P(c,"(filtered out your liked playlists)"),c.forEach(v),this.h()},h(){V(t,"class","pt-5 text-lg")},m(r,y){ee(e,r,y),D(r,l,y),D(r,t,y),m(t,s),m(t,n),m(n,u),m(t,_),D(r,f,y),D(r,d,y),m(d,o),p=!0},p(r,y){(!p||y&4)&&a!==(a=r[9].length+"")&&q(u,a)},i(r){p||(U(e.$$.fragment,r),p=!0)},o(r){B(e.$$.fragment,r),p=!1},d(r){te(e,r),r&&v(l),r&&v(t),r&&v(f),r&&v(d)}}}function qe(i){return{c:k,l:k,m:k,p:k,i:k,o:k,d:k}}function je(i){let e,l=i[16].message+"",t;return{c(){e=w("p"),t=L(l),this.h()},l(s){e=E(s,"P",{style:!0});var n=I(e);t=P(n,l),n.forEach(v),this.h()},h(){S(e,"color","red")},m(s,n){D(s,e,n),m(e,t)},p(s,n){n&8&&l!==(l=s[16].message+"")&&q(t,l)},d(s){s&&v(e)}}}function Fe(i){let e,l=i[1]&&fe(i);return{c(){l&&l.c(),e=T()},l(t){l&&l.l(t),e=T()},m(t,s){l&&l.m(t,s),D(t,e,s)},p(t,s){t[1]?l?l.p(t,s):(l=fe(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&v(e)}}}function fe(i){let e,l,t,s=i[9].length+"",n,a,u,_,f,d,o,p,r,y=i[9],b=[];for(let c=0;c<y.length;c+=1)b[c]=ve(oe(i,y,c));return{c(){e=w("div"),l=w("div"),t=w("b"),n=L(s),a=L(" playlists exported"),u=C(),_=w("div"),f=w("a"),d=L("Download as text file"),p=C(),r=w("div");for(let c=0;c<b.length;c+=1)b[c].c();this.h()},l(c){e=E(c,"DIV",{class:!0});var g=I(e);l=E(g,"DIV",{});var h=I(l);t=E(h,"B",{});var z=I(t);n=P(z,s),z.forEach(v),a=P(h," playlists exported"),h.forEach(v),u=N(g),_=E(g,"DIV",{class:!0});var A=I(_);f=E(A,"A",{href:!0,download:!0});var R=I(f);d=P(R,"Download as text file"),R.forEach(v),A.forEach(v),g.forEach(v),p=N(c),r=E(c,"DIV",{});var j=I(r);for(let F=0;F<b.length;F+=1)b[F].l(j);j.forEach(v),this.h()},h(){V(f,"href",o=window.URL.createObjectURL(new Blob([de(i[9])],{type:"text/plain"}))),V(f,"download","spotify-export.txt"),V(_,"class","text-2xl underline"),V(e,"class","text-center pb-5")},m(c,g){D(c,e,g),m(e,l),m(l,t),m(t,n),m(l,a),m(e,u),m(e,_),m(_,f),m(f,d),D(c,p,g),D(c,r,g);for(let h=0;h<b.length;h+=1)b[h].m(r,null)},p(c,g){if(g&8&&s!==(s=c[9].length+"")&&q(n,s),g&8&&o!==(o=window.URL.createObjectURL(new Blob([de(c[9])],{type:"text/plain"})))&&V(f,"href",o),g&8){y=c[9];let h;for(h=0;h<y.length;h+=1){const z=oe(c,y,h);b[h]?b[h].p(z,g):(b[h]=ve(z),b[h].c(),b[h].m(r,null))}for(;h<b.length;h+=1)b[h].d(1);b.length=y.length}},d(c){c&&v(e),c&&v(p),c&&v(r),O(b,c)}}}function ue(i){let e,l=i[10].description+"",t;return{c(){e=w("div"),t=L(l),this.h()},l(s){e=E(s,"DIV",{class:!0});var n=I(e);t=P(n,l),n.forEach(v),this.h()},h(){V(e,"class","text-xl pb-2")},m(s,n){D(s,e,n),m(e,t)},p(s,n){n&8&&l!==(l=s[10].description+"")&&q(t,l)},d(s){s&&v(e)}}}function he(i){let e,l=i[13].track.name+"",t,s,n=pe(i[13])+"",a,u;return{c(){e=w("div"),t=L(l),s=L(" - "),a=L(n),u=C(),this.h()},l(_){e=E(_,"DIV",{class:!0});var f=I(e);t=P(f,l),s=P(f," - "),a=P(f,n),u=N(f),f.forEach(v),this.h()},h(){V(e,"class","pb-1")},m(_,f){D(_,e,f),m(e,t),m(e,s),m(e,a),m(e,u)},p(_,f){f&8&&l!==(l=_[13].track.name+"")&&q(t,l),f&8&&n!==(n=pe(_[13])+"")&&q(a,n)},d(_){_&&v(e)}}}function ve(i){let e,l,t,s,n,a,u,_=i[10].name+"",f,d,o,p,r=i[10].description&&ue(i),y=i[10].tracks,b=[];for(let c=0;c<y.length;c+=1)b[c]=he(re(i,y,c));return{c(){e=w("div"),l=w("div"),t=w("img"),n=C(),a=w("div"),u=w("div"),f=L(_),d=C(),r&&r.c(),o=C();for(let c=0;c<b.length;c+=1)b[c].c();p=C(),this.h()},l(c){e=E(c,"DIV",{class:!0});var g=I(e);l=E(g,"DIV",{});var h=I(l);t=E(h,"IMG",{class:!0,src:!0,alt:!0}),h.forEach(v),n=N(g),a=E(g,"DIV",{});var z=I(a);u=E(z,"DIV",{class:!0});var A=I(u);f=P(A,_),A.forEach(v),d=N(z),r&&r.l(z),o=N(z);for(let R=0;R<b.length;R+=1)b[R].l(z);z.forEach(v),p=N(g),g.forEach(v),this.h()},h(){V(t,"class","w-32"),le(t.src,s=i[10].images[0].url)||V(t,"src",s),V(t,"alt","Album cover"),V(u,"class","font-bold text-2xl pb-2"),V(e,"class","md:p-5 md:flex md:space-x-5 pb-5")},m(c,g){D(c,e,g),m(e,l),m(l,t),m(e,n),m(e,a),m(a,u),m(u,f),m(a,d),r&&r.m(a,null),m(a,o);for(let h=0;h<b.length;h+=1)b[h].m(a,null);m(e,p)},p(c,g){if(g&8&&!le(t.src,s=c[10].images[0].url)&&V(t,"src",s),g&8&&_!==(_=c[10].name+"")&&q(f,_),c[10].description?r?r.p(c,g):(r=ue(c),r.c(),r.m(a,o)):r&&(r.d(1),r=null),g&8){y=c[10].tracks;let h;for(h=0;h<y.length;h+=1){const z=re(c,y,h);b[h]?b[h].p(z,g):(b[h]=he(z),b[h].c(),b[h].m(a,null))}for(;h<b.length;h+=1)b[h].d(1);b.length=y.length}},d(c){c&&v(e),r&&r.d(),O(b,c)}}}function We(i){return{c:k,l:k,m:k,p:k,d:k}}function Me(i){let e,l,t,s,n,a,u,_,f,d,o,p,r,y;const b=[Ce,Ae],c=[];function g(h,z){return h[4]!=null?0:1}return p=g(i),r=c[p]=b[p](i),{c(){e=w("main"),l=w("div"),t=w("h1"),s=L("Spotify Export"),n=C(),a=w("div"),u=L("by Ant @ "),_=w("a"),f=L("antoineg.dev"),d=L(" :)"),o=C(),r.c(),this.h()},l(h){e=E(h,"MAIN",{class:!0});var z=I(e);l=E(z,"DIV",{class:!0});var A=I(l);t=E(A,"H1",{class:!0});var R=I(t);s=P(R,"Spotify Export"),R.forEach(v),n=N(A),a=E(A,"DIV",{class:!0});var j=I(a);u=P(j,"by Ant @ "),_=E(j,"A",{class:!0,href:!0});var F=I(_);f=P(F,"antoineg.dev"),F.forEach(v),d=P(j," :)"),j.forEach(v),o=N(A),r.l(A),A.forEach(v),z.forEach(v),this.h()},h(){V(t,"class","title svelte-11dq9qd"),V(_,"class","underline"),V(_,"href","https://antoineg.dev"),V(a,"class","pb-5"),V(l,"class","flex flex-col items-center justify-center min-h-full"),V(e,"class","p-5")},m(h,z){D(h,e,z),m(e,l),m(l,t),m(t,s),m(l,n),m(l,a),m(a,u),m(a,_),m(_,f),m(a,d),m(l,o),c[p].m(l,null),y=!0},p(h,[z]){let A=p;p=g(h),p===A?c[p].p(h,z):(Y(),B(c[A],1,1,()=>{c[A]=null}),X(),r=c[p],r?r.p(h,z):(r=c[p]=b[p](h),r.c()),U(r,1),r.m(l,null))},i(h){y||(U(r),y=!0)},o(h){B(r),y=!1},d(h){h&&v(e),c[p].d()}}}function de(i){return i.reduce((e,l)=>`${e}# ${l.name}
${l.tracks.reduce((t,s)=>`${t}${s.track.name} - ${s.track.artists.map(n=>n.name).join(", ")}
`,"")}
`,"")}function pe(i){return i.track.artists.map(e=>e.name).join(", ")}function Ge(i,e,l){let t;me(i,ge,p=>l(4,t=p));let s=!1,n=!1,a=Promise.resolve({}),u=Promise.resolve([]);async function _(){if(t!=null){const p=await ke(),r=await we();return l(2,a=f(r.id)),{playlists:p,userInfo:r}}}async function f(p){const r=await Ee({filter:{ownerId:p}});return l(0,s=!0),l(3,u=d(r)),r}async function d(p){const r=await Ie(p);return l(1,n=!0),r}let o=_();return[s,n,a,u,t,o]}class He extends K{constructor(e){super(),Z(this,e,Ge,Me,Q,{})}}export{He as default};

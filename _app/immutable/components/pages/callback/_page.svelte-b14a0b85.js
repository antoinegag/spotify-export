import{S as B,i as G,s as U,k as h,l as m,m as y,h as i,n as v,b as f,f as F,t as z,q as b,a as E,w as W,r as w,c as $,x as H,G as d,y as J,B as V,z as K}from"../../../chunks/index-6622727b.js";import{j as g}from"../../../chunks/singletons-46b3841c.js";import{a as M,e as N,L as O,l as Q}from"../../../chunks/spotify-api-3cec3c5d.js";g.disable_scroll_handling;const X=g.goto;g.invalidate;g.invalidateAll;g.preload_data;g.preload_code;g.before_navigate;g.after_navigate;function Y(I){let e,c,o,l,p,a,r,s,n,L,x,D,k,P,_,A,S;return x=new O({props:{onClick:Q}}),{c(){e=h("div"),c=b("Please allow access to your Spotify account to continue."),o=E(),l=h("div"),p=b("This is only giving access to your computer and I do not have access to it :), stay safe!"),a=E(),r=h("div"),s=h("div"),n=b("Try again?"),L=E(),W(x.$$.fragment),D=E(),k=h("div"),P=b("Feel free to check the source code yourself: "),_=h("a"),A=b("https://github.com/antoinegag/spotify-export"),this.h()},l(t){e=m(t,"DIV",{class:!0});var u=y(e);c=w(u,"Please allow access to your Spotify account to continue."),u.forEach(i),o=$(t),l=m(t,"DIV",{});var j=y(l);p=w(j,"This is only giving access to your computer and I do not have access to it :), stay safe!"),j.forEach(i),a=$(t),r=m(t,"DIV",{class:!0});var T=y(r);s=m(T,"DIV",{class:!0});var q=y(s);n=w(q,"Try again?"),q.forEach(i),L=$(T),H(x.$$.fragment,T),T.forEach(i),D=$(t),k=m(t,"DIV",{});var R=y(k);P=w(R,"Feel free to check the source code yourself: "),_=m(R,"A",{class:!0,target:!0,rel:!0,href:!0});var C=y(_);A=w(C,"https://github.com/antoinegag/spotify-export"),C.forEach(i),R.forEach(i),this.h()},h(){v(e,"class","text-2xl"),v(s,"class","text-l pb-2"),v(r,"class","text-center"),v(_,"class","underline"),v(_,"target","_blank"),v(_,"rel","noreferrer"),v(_,"href","https://github.com/antoinegag/spotify-export")},m(t,u){f(t,e,u),d(e,c),f(t,o,u),f(t,l,u),d(l,p),f(t,a,u),f(t,r,u),d(r,s),d(s,n),d(r,L),J(x,r,null),f(t,D,u),f(t,k,u),d(k,P),d(k,_),d(_,A),S=!0},p:V,i(t){S||(F(x.$$.fragment,t),S=!0)},o(t){z(x.$$.fragment,t),S=!1},d(t){t&&i(e),t&&i(o),t&&i(l),t&&i(a),t&&i(r),K(x),t&&i(D),t&&i(k)}}}function Z(I){let e,c,o,l,p;return{c(){e=h("div"),c=b("Logged in!"),o=E(),l=h("div"),p=b("Redirecting..."),this.h()},l(a){e=m(a,"DIV",{class:!0});var r=y(e);c=w(r,"Logged in!"),r.forEach(i),o=$(a),l=m(a,"DIV",{});var s=y(l);p=w(s,"Redirecting..."),s.forEach(i),this.h()},h(){v(e,"class","text-2xl")},m(a,r){f(a,e,r),d(e,c),f(a,o,r),f(a,l,r),d(l,p)},p:V,i:V,o:V,d(a){a&&i(e),a&&i(o),a&&i(l)}}}function ee(I){let e,c,o,l;const p=[Z,Y],a=[];function r(s,n){return s[0]?0:1}return c=r(I),o=a[c]=p[c](I),{c(){e=h("div"),o.c(),this.h()},l(s){e=m(s,"DIV",{class:!0});var n=y(e);o.l(n),n.forEach(i),this.h()},h(){v(e,"class","flex flex-col items-center justify-center h-full p-4 space-y-6")},m(s,n){f(s,e,n),a[c].m(e,null),l=!0},p(s,[n]){o.p(s,n)},i(s){l||(F(o),l=!0)},o(s){z(o),l=!1},d(s){s&&i(e),a[c].d()}}}function te(I){const e=new URLSearchParams(window.location.hash.slice(1,window.location.hash.length-1)),c=e.get("access_token");if(c!=null){M.set(c);const o=new Date;o.setSeconds(o.getSeconds()+parseInt(e.get("expires_in")||"0")),N.set(o),X("/")}return[c]}class ie extends B{constructor(e){super(),G(this,e,te,ee,U,{})}}export{ie as default};

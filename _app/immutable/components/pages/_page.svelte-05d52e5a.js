import{S as K,i as Z,s as Q,k as w,l as E,m as I,h as d,n as D,p as A,b as z,B as m,I as O,J as M,q as L,a as C,r as P,c as N,G as b,t as B,d as X,f as U,H as me,g as Y,w as x,x as $,y as ee,z as te,K as W,e as T,L as H,u as F,M as le}from"../../chunks/index-c35df85b.js";import{L as be,l as ke,a as ye,g as ge,b as we,c as Ee,d as Ie}from"../../chunks/spotify-api-551ccd95.js";const G=/[a-zA-Z]/,J=(n,t=0)=>[...Array(n).keys()].map(l=>l+t);function se(n,t,l){const e=n.slice();return e[7]=t[l],e}function ne(n){let t;return{c(){t=w("div"),this.h()},l(l){t=E(l,"DIV",{class:!0,style:!0}),I(t).forEach(d),this.h()},h(){D(t,"class","rect svelte-cihful"),A(t,"animation-delay",(n[7]-1)*(+n[6]/12)+n[5]),M(t,"pause-animation",n[4])},m(l,e){z(l,t,e)},p(l,e){e&16&&M(t,"pause-animation",l[4])},d(l){l&&d(t)}}}function De(n){let t,l=J(5,1),e=[];for(let s=0;s<l.length;s+=1)e[s]=ne(se(n,l,s));return{c(){t=w("div");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=E(s,"DIV",{class:!0,style:!0});var a=I(t);for(let i=0;i<e.length;i+=1)e[i].l(a);a.forEach(d),this.h()},h(){D(t,"class","wrapper svelte-cihful"),A(t,"--size",n[3]+n[1]),A(t,"--color",n[0]),A(t,"--duration",n[2])},m(s,a){z(s,t,a);for(let i=0;i<e.length;i+=1)e[i].m(t,null)},p(s,[a]){if(a&112){l=J(5,1);let i;for(i=0;i<l.length;i+=1){const u=se(s,l,i);e[i]?e[i].p(u,a):(e[i]=ne(u),e[i].c(),e[i].m(t,null))}for(;i<e.length;i+=1)e[i].d(1);e.length=l.length}a&10&&A(t,"--size",s[3]+s[1]),a&1&&A(t,"--color",s[0]),a&4&&A(t,"--duration",s[2])},i:m,o:m,d(s){s&&d(t),O(e,s)}}}function Ve(n,t,l){var v;let{color:e="#FF3E00"}=t,{unit:s="px"}=t,{duration:a="1.2s"}=t,{size:i="60"}=t,{pause:u=!1}=t,_=((v=a.match(G))==null?void 0:v[0])??"s",f=a.replace(G,"");return n.$$set=o=>{"color"in o&&l(0,e=o.color),"unit"in o&&l(1,s=o.unit),"duration"in o&&l(2,a=o.duration),"size"in o&&l(3,i=o.size),"pause"in o&&l(4,u=o.pause)},[e,s,a,i,u,_,f]}class ze extends K{constructor(t){super(),Z(this,t,Ve,De,Q,{color:0,unit:1,duration:2,size:3,pause:4})}}function ie(n,t,l){const e=n.slice();return e[7]=t[l],e}function ae(n){let t;return{c(){t=w("div"),this.h()},l(l){t=E(l,"DIV",{class:!0,style:!0}),I(t).forEach(d),this.h()},h(){D(t,"class","bar svelte-1vzsw15"),A(t,"left",n[7]*(+n[3]/5+(+n[3]/15-+n[3]/100))+n[1]),A(t,"animation-delay",n[7]*(+n[6]/8.3)+n[5]),M(t,"pause-animation",n[4])},m(l,e){z(l,t,e)},p(l,e){e&10&&A(t,"left",l[7]*(+l[3]/5+(+l[3]/15-+l[3]/100))+l[1]),e&16&&M(t,"pause-animation",l[4])},d(l){l&&d(t)}}}function Le(n){let t,l=J(10,0),e=[];for(let s=0;s<l.length;s+=1)e[s]=ae(ie(n,l,s));return{c(){t=w("div");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=E(s,"DIV",{class:!0,style:!0});var a=I(t);for(let i=0;i<e.length;i+=1)e[i].l(a);a.forEach(d),this.h()},h(){D(t,"class","wrapper svelte-1vzsw15"),A(t,"--size",n[3]+n[1]),A(t,"--color",n[0]),A(t,"--duration",n[2])},m(s,a){z(s,t,a);for(let i=0;i<e.length;i+=1)e[i].m(t,null)},p(s,[a]){if(a&122){l=J(10,0);let i;for(i=0;i<l.length;i+=1){const u=ie(s,l,i);e[i]?e[i].p(u,a):(e[i]=ae(u),e[i].c(),e[i].m(t,null))}for(;i<e.length;i+=1)e[i].d(1);e.length=l.length}a&10&&A(t,"--size",s[3]+s[1]),a&1&&A(t,"--color",s[0]),a&4&&A(t,"--duration",s[2])},i:m,o:m,d(s){s&&d(t),O(e,s)}}}function Pe(n,t,l){var v;let{color:e="#FF3E00"}=t,{unit:s="px"}=t,{duration:a="1.25s"}=t,{size:i="60"}=t,{pause:u=!1}=t,_=((v=a.match(G))==null?void 0:v[0])??"s",f=a.replace(G,"");return n.$$set=o=>{"color"in o&&l(0,e=o.color),"unit"in o&&l(1,s=o.unit),"duration"in o&&l(2,a=o.duration),"size"in o&&l(3,i=o.size),"pause"in o&&l(4,u=o.pause)},[e,s,a,i,u,_,f]}class Se extends K{constructor(t){super(),Z(this,t,Pe,Le,Q,{color:0,unit:1,duration:2,size:3,pause:4})}}function oe(n,t,l){const e=n.slice();return e[10]=t[l],e}function re(n,t,l){const e=n.slice();return e[13]=t[l],e}function Ae(n){let t,l;return t=new be({props:{onClick:ke}}),{c(){x(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,s){ee(t,e,s),l=!0},p:m,i(e){l||(U(t.$$.fragment,e),l=!0)},o(e){B(t.$$.fragment,e),l=!1},d(e){te(t,e)}}}function Ce(n){let t,l,e,s,a,i,u={ctx:n,current:null,token:null,hasCatch:!1,pending:Be,then:Ue,catch:Ne,value:16,blocks:[,,,]};W(n[5],u);let _={ctx:n,current:null,token:null,hasCatch:!1,pending:qe,then:Te,catch:Re,value:9,blocks:[,,,]};W(l=n[2],_);let f={ctx:n,current:null,token:null,hasCatch:!1,pending:We,then:Fe,catch:je,value:9};return W(a=n[3],f),{c(){u.block.c(),t=C(),_.block.c(),e=C(),s=T(),f.block.c()},l(v){u.block.l(v),t=N(v),_.block.l(v),e=N(v),s=T(),f.block.l(v)},m(v,o){u.block.m(v,u.anchor=o),u.mount=()=>t.parentNode,u.anchor=t,z(v,t,o),_.block.m(v,_.anchor=o),_.mount=()=>e.parentNode,_.anchor=e,z(v,e,o),z(v,s,o),f.block.m(v,f.anchor=o),f.mount=()=>s.parentNode,f.anchor=s,i=!0},p(v,o){n=v,H(u,n,o),_.ctx=n,o&4&&l!==(l=n[2])&&W(l,_)||H(_,n,o),f.ctx=n,o&8&&a!==(a=n[3])&&W(a,f)||H(f,n,o)},i(v){i||(U(u.block),U(_.block),i=!0)},o(v){for(let o=0;o<3;o+=1){const p=u.blocks[o];B(p)}for(let o=0;o<3;o+=1){const p=_.blocks[o];B(p)}i=!1},d(v){u.block.d(v),u.token=null,u=null,v&&d(t),_.block.d(v),_.token=null,_=null,v&&d(e),v&&d(s),f.block.d(v),f.token=null,f=null}}}function Ne(n){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function Ue(n){let t,l,e=!n[0]&&ce(n);return{c(){e&&e.c(),t=T()},l(s){e&&e.l(s),t=T()},m(s,a){e&&e.m(s,a),z(s,t,a),l=!0},p(s,a){s[0]?e&&(Y(),B(e,1,1,()=>{e=null}),X()):e?(e.p(s,a),a&1&&U(e,1)):(e=ce(s),e.c(),U(e,1),e.m(t.parentNode,t))},i(s){l||(U(e),l=!0)},o(s){B(e),l=!1},d(s){e&&e.d(s),s&&d(t)}}}function ce(n){var v;let t,l,e,s,a,i=((v=n[16])==null?void 0:v.playlists.total)+"",u,_,f;return t=new ze({props:{color:"black",size:50}}),{c(){x(t.$$.fragment),l=C(),e=w("div"),s=L("Loading "),a=w("b"),u=L(i),_=L(" playlists"),this.h()},l(o){$(t.$$.fragment,o),l=N(o),e=E(o,"DIV",{class:!0});var p=I(e);s=P(p,"Loading "),a=E(p,"B",{});var r=I(a);u=P(r,i),r.forEach(d),_=P(p," playlists"),p.forEach(d),this.h()},h(){D(e,"class","pt-5 text-lg")},m(o,p){ee(t,o,p),z(o,l,p),z(o,e,p),b(e,s),b(e,a),b(a,u),b(e,_),f=!0},p:m,i(o){f||(U(t.$$.fragment,o),f=!0)},o(o){B(t.$$.fragment,o),f=!1},d(o){te(t,o),o&&d(l),o&&d(e)}}}function Be(n){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function Re(n){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function Te(n){let t,l,e=!n[1]&&n[0]&&_e(n);return{c(){e&&e.c(),t=T()},l(s){e&&e.l(s),t=T()},m(s,a){e&&e.m(s,a),z(s,t,a),l=!0},p(s,a){!s[1]&&s[0]?e?(e.p(s,a),a&3&&U(e,1)):(e=_e(s),e.c(),U(e,1),e.m(t.parentNode,t)):e&&(Y(),B(e,1,1,()=>{e=null}),X())},i(s){l||(U(e),l=!0)},o(s){B(e),l=!1},d(s){e&&e.d(s),s&&d(t)}}}function _e(n){let t,l,e,s,a,i=n[9].length+"",u,_,f,v,o,p;return t=new Se({props:{color:"black",size:50}}),{c(){x(t.$$.fragment),l=C(),e=w("div"),s=L("Loading tracks for "),a=w("b"),u=L(i),_=L(" playlists."),f=C(),v=w("div"),o=L("(filtered out your liked playlists)"),this.h()},l(r){$(t.$$.fragment,r),l=N(r),e=E(r,"DIV",{class:!0});var y=I(e);s=P(y,"Loading tracks for "),a=E(y,"B",{});var k=I(a);u=P(k,i),k.forEach(d),_=P(y," playlists."),y.forEach(d),f=N(r),v=E(r,"DIV",{});var c=I(v);o=P(c,"(filtered out your liked playlists)"),c.forEach(d),this.h()},h(){D(e,"class","pt-5 text-lg")},m(r,y){ee(t,r,y),z(r,l,y),z(r,e,y),b(e,s),b(e,a),b(a,u),b(e,_),z(r,f,y),z(r,v,y),b(v,o),p=!0},p(r,y){(!p||y&4)&&i!==(i=r[9].length+"")&&F(u,i)},i(r){p||(U(t.$$.fragment,r),p=!0)},o(r){B(t.$$.fragment,r),p=!1},d(r){te(t,r),r&&d(l),r&&d(e),r&&d(f),r&&d(v)}}}function qe(n){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function je(n){return{c:m,l:m,m,p:m,d:m}}function Fe(n){let t,l=n[1]&&fe(n);return{c(){l&&l.c(),t=T()},l(e){l&&l.l(e),t=T()},m(e,s){l&&l.m(e,s),z(e,t,s)},p(e,s){e[1]?l?l.p(e,s):(l=fe(e),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(e){l&&l.d(e),e&&d(t)}}}function fe(n){let t,l,e,s=n[9].length+"",a,i,u,_,f,v,o,p,r,y=n[9],k=[];for(let c=0;c<y.length;c+=1)k[c]=ve(oe(n,y,c));return{c(){t=w("div"),l=w("div"),e=w("b"),a=L(s),i=L(" playlists exported"),u=C(),_=w("div"),f=w("a"),v=L("Download as text file"),p=C(),r=w("div");for(let c=0;c<k.length;c+=1)k[c].c();this.h()},l(c){t=E(c,"DIV",{class:!0});var g=I(t);l=E(g,"DIV",{});var h=I(l);e=E(h,"B",{});var V=I(e);a=P(V,s),V.forEach(d),i=P(h," playlists exported"),h.forEach(d),u=N(g),_=E(g,"DIV",{class:!0});var S=I(_);f=E(S,"A",{href:!0,download:!0});var R=I(f);v=P(R,"Download as text file"),R.forEach(d),S.forEach(d),g.forEach(d),p=N(c),r=E(c,"DIV",{});var q=I(r);for(let j=0;j<k.length;j+=1)k[j].l(q);q.forEach(d),this.h()},h(){D(f,"href",o=window.URL.createObjectURL(new Blob([de(n[9])],{type:"text/plain"}))),D(f,"download","spotify-export.txt"),D(_,"class","text-2xl underline"),D(t,"class","text-center pb-5")},m(c,g){z(c,t,g),b(t,l),b(l,e),b(e,a),b(l,i),b(t,u),b(t,_),b(_,f),b(f,v),z(c,p,g),z(c,r,g);for(let h=0;h<k.length;h+=1)k[h].m(r,null)},p(c,g){if(g&8&&s!==(s=c[9].length+"")&&F(a,s),g&8&&o!==(o=window.URL.createObjectURL(new Blob([de(c[9])],{type:"text/plain"})))&&D(f,"href",o),g&8){y=c[9];let h;for(h=0;h<y.length;h+=1){const V=oe(c,y,h);k[h]?k[h].p(V,g):(k[h]=ve(V),k[h].c(),k[h].m(r,null))}for(;h<k.length;h+=1)k[h].d(1);k.length=y.length}},d(c){c&&d(t),c&&d(p),c&&d(r),O(k,c)}}}function ue(n){let t,l=n[10].description+"",e;return{c(){t=w("div"),e=L(l),this.h()},l(s){t=E(s,"DIV",{class:!0});var a=I(t);e=P(a,l),a.forEach(d),this.h()},h(){D(t,"class","text-xl pb-2")},m(s,a){z(s,t,a),b(t,e)},p(s,a){a&8&&l!==(l=s[10].description+"")&&F(e,l)},d(s){s&&d(t)}}}function he(n){let t,l=n[13].track.name+"",e,s,a=pe(n[13])+"",i,u;return{c(){t=w("div"),e=L(l),s=L(" - "),i=L(a),u=C(),this.h()},l(_){t=E(_,"DIV",{class:!0});var f=I(t);e=P(f,l),s=P(f," - "),i=P(f,a),u=N(f),f.forEach(d),this.h()},h(){D(t,"class","pb-1")},m(_,f){z(_,t,f),b(t,e),b(t,s),b(t,i),b(t,u)},p(_,f){f&8&&l!==(l=_[13].track.name+"")&&F(e,l),f&8&&a!==(a=pe(_[13])+"")&&F(i,a)},d(_){_&&d(t)}}}function ve(n){let t,l,e,s,a,i,u,_=n[10].name+"",f,v,o,p,r=n[10].description&&ue(n),y=n[10].tracks,k=[];for(let c=0;c<y.length;c+=1)k[c]=he(re(n,y,c));return{c(){t=w("div"),l=w("div"),e=w("img"),a=C(),i=w("div"),u=w("div"),f=L(_),v=C(),r&&r.c(),o=C();for(let c=0;c<k.length;c+=1)k[c].c();p=C(),this.h()},l(c){t=E(c,"DIV",{class:!0});var g=I(t);l=E(g,"DIV",{});var h=I(l);e=E(h,"IMG",{class:!0,src:!0,alt:!0}),h.forEach(d),a=N(g),i=E(g,"DIV",{});var V=I(i);u=E(V,"DIV",{class:!0});var S=I(u);f=P(S,_),S.forEach(d),v=N(V),r&&r.l(V),o=N(V);for(let R=0;R<k.length;R+=1)k[R].l(V);V.forEach(d),p=N(g),g.forEach(d),this.h()},h(){D(e,"class","w-32"),le(e.src,s=n[10].images[0].url)||D(e,"src",s),D(e,"alt","Album cover"),D(u,"class","font-bold text-2xl pb-2"),D(t,"class","md:p-5 md:flex md:space-x-5 pb-5")},m(c,g){z(c,t,g),b(t,l),b(l,e),b(t,a),b(t,i),b(i,u),b(u,f),b(i,v),r&&r.m(i,null),b(i,o);for(let h=0;h<k.length;h+=1)k[h].m(i,null);b(t,p)},p(c,g){if(g&8&&!le(e.src,s=c[10].images[0].url)&&D(e,"src",s),g&8&&_!==(_=c[10].name+"")&&F(f,_),c[10].description?r?r.p(c,g):(r=ue(c),r.c(),r.m(i,o)):r&&(r.d(1),r=null),g&8){y=c[10].tracks;let h;for(h=0;h<y.length;h+=1){const V=re(c,y,h);k[h]?k[h].p(V,g):(k[h]=he(V),k[h].c(),k[h].m(i,null))}for(;h<k.length;h+=1)k[h].d(1);k.length=y.length}},d(c){c&&d(t),r&&r.d(),O(k,c)}}}function We(n){return{c:m,l:m,m,p:m,d:m}}function Me(n){let t,l,e,s,a,i,u,_,f,v,o,p,r,y;const k=[Ce,Ae],c=[];function g(h,V){return h[4]!=null?0:1}return p=g(n),r=c[p]=k[p](n),{c(){t=w("main"),l=w("div"),e=w("h1"),s=L("Spotify Export"),a=C(),i=w("div"),u=L("by Ant @ "),_=w("a"),f=L("antoineg.dev"),v=L(" :)"),o=C(),r.c(),this.h()},l(h){t=E(h,"MAIN",{class:!0});var V=I(t);l=E(V,"DIV",{class:!0});var S=I(l);e=E(S,"H1",{class:!0});var R=I(e);s=P(R,"Spotify Export"),R.forEach(d),a=N(S),i=E(S,"DIV",{class:!0});var q=I(i);u=P(q,"by Ant @ "),_=E(q,"A",{class:!0,href:!0});var j=I(_);f=P(j,"antoineg.dev"),j.forEach(d),v=P(q," :)"),q.forEach(d),o=N(S),r.l(S),S.forEach(d),V.forEach(d),this.h()},h(){D(e,"class","title svelte-11dq9qd"),D(_,"class","underline"),D(_,"href","https://antoineg.dev"),D(i,"class","pb-5"),D(l,"class","flex flex-col items-center justify-center min-h-full"),D(t,"class","p-5")},m(h,V){z(h,t,V),b(t,l),b(l,e),b(e,s),b(l,a),b(l,i),b(i,u),b(i,_),b(_,f),b(i,v),b(l,o),c[p].m(l,null),y=!0},p(h,[V]){let S=p;p=g(h),p===S?c[p].p(h,V):(Y(),B(c[S],1,1,()=>{c[S]=null}),X(),r=c[p],r?r.p(h,V):(r=c[p]=k[p](h),r.c()),U(r,1),r.m(l,null))},i(h){y||(U(r),y=!0)},o(h){B(r),y=!1},d(h){h&&d(t),c[p].d()}}}function de(n){return n.reduce((t,l)=>`${t}# ${l.name}
${l.tracks.reduce((e,s)=>`${e}${s.track.name} - ${s.track.artists.map(a=>a.name).join(", ")}
`,"")}
`,"")}function pe(n){return n.track.artists.map(t=>t.name).join(", ")}function Ge(n,t,l){let e;me(n,ye,p=>l(4,e=p));let s=!1,a=!1,i=Promise.resolve({}),u=Promise.resolve([]);async function _(){if(e!=null){const p=await ge(),r=await we();return l(2,i=f(r.id)),{playlists:p,userInfo:r}}}async function f(p){const r=await Ee({filter:{ownerId:p}});return l(0,s=!0),l(3,u=v(r)),r}async function v(p){const r=await Ie(p);return l(1,a=!0),r}let o=_();return[s,a,i,u,e,o]}class He extends K{constructor(t){super(),Z(this,t,Ge,Me,Q,{})}}export{He as default};
